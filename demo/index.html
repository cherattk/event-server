<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self'; font-src https://fonts.googleapis.com;"> -->

  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>PubSub Demo</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link href="//fonts.googleapis.com/css?family=Rubik&display=swap" rel="stylesheet">

  <link href="publisher.css" rel="stylesheet">

</head>

<body>

  <div class="app">
    <div class="container rounded-lg">

      <div class="card rounded-lg panel">
        <div class='alert alert-warning'>
          Warning : You need to run the event-server before starting to use the demo app.
        </div>
        <h5> Usage : </h5>
        <ol>
          <li>
            Go to <b>[Event-Server GUI] </b> >> <b>[Setting]</b>
            and register a
            <b>Service</b> and the <b>Event</b> that it triggers.
          </li>
          <li>Add the following <b> 3 URL Endpoints</b> as Listeners to the <b>Event : </b>
            <br /><a href="http://localhost:3001" target="_blank">http://localhost:3001</a>,
            <br /><a href="http://localhost:3002" target="_blank"> http://localhost:3002 </a>,
            <br /><a href="http://localhost:3003" target="_blank"> http://localhost:3003 </a>.
          </li>
          <li>Copy the generated <b>event ID</b> and past it
            in the the Event ID input.</li>
          <li>
              The form will make an HTTP POST Request to the Event-Server
              wich is located by default at :
              <a id="dispatch-endpoint" target="_blank"></a>
              <br />
          </li>
        </ol>
      </div>

      <div class="card panel rounded-lg pub-form">
        <h3>Publisher Form</h3>
        <form id="pub-form">
          <div class="form-group">
            <label for="event-id">Event ID</label>
            <input type="text" class="form-control" id="event-id" name="event_id" placeholder="Enter The Event ID" />
          </div>

          <div class="form-group">
            <label for="pub-msg">Message</label>
            <input type="text" class="form-control" id="pub-msg" name="published_message" placeholder="Enter Message" />
          </div>
          
          <button type="submit" class="btn btn-primary btn-sm">
            Submit
          </button>

          <hr/> <div id="submit-result"></div>

        </form>
      </div>

      <div class="card panel rounded-lg pub-result">
        <h3>Results</h3>
        <ul id="listener-result" class="listener-result">
        </ul>
      </div>

    </div>


  </div>

  <script type="text/javascript" src="publisher.js"></script>

</body>

</html>